# Agent Setup Guide

This contains instructions on how to create and run your own custom version of the Rosie agent. 

## Basic Workflow

The core Rosie agent (in rosie/agent) contains the universal Soar code that supports interactive task learning 
across a variety of environments and worlds. To minimize conflicts between different people working on the code, 
a decision was made to have all agent customization happen outside of the core agent directory. 
Therefore, a configuration step was introduced so that users could set all the settings they needed and add any 
special knowledge for their particular use. 

The basic workflow is as follows:
1. Create a new directory and create a Rosie config file, along with any special rules/knowledge that the agent needs
2. Run the java agent configuration tool to generate the files necessary to run Rosie
3. Run the Rosie agent with whatever interface is desired, pointing it to the files generated by the configuration tool

# Creating a new agent configuration

You can use this template folder as a guide, make a copy of it in a new location and edit files as you see fit. 

## `agent.config [required]`
This file contains all the settings needed to configure an instance of Rosie. Settings consist of a line of the form `setting_name = value`

The provided agent.config file contains comments with information on each setting, but they are repeated here

**Basic Settings:**

```
agent-name = [str]
# The name used when creating agent files

agent-dir = [path]
# The directory to put newly created agent files into 
# By default, it puts them in a directory called agent
```

**Environment Settings:**

Rosie can be run attached to a number of different external environments, both real and simulated, as well as internal models of the world


```
domain = [internal|magicbot|tabletop|ai2thor|cozmo|fetch]
```
The domain setting tells the Rosie agent which environment it is going to be run with. 
The configuration tool will add the wme `(top-state [s] ^agent-params.domain [domain]).`
Certain soar rules, especially those dealing with perception and action, test the domain. 
If the agent is not connected to an external environment, use the internal domain. If you are using the mobile simulator, use the magicbot domain.

```
simulate-perception = true
```
This setting is only used for the internal domain, and tells the agent to simulate an input link and mimic the standard way of managing perception and the world. 

```
internal-world-file = [filename]
```
This setting should only be used in combination with `domain = internal` and `simulate-perception = true`. It searches for the given file in `agent/manage-world-state/world/internal:q

