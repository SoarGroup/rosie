The name of the puzzle is knights-tour.


(I25 ^arg1 I43 ^message-type object-description ^predicate N38)
  (I43 ^2 I44 ^handle of1 ^item-type predicate)
    (I44 ^2 N15 ^handle name1)
      (N15 ^handle puzzle1 ^property L47 (@100106))
        (L47 ^handle concept ^type conceptual)
  (N38 ^handle knights-tour1 ^item-type predicate
         ^word-structure N37 (@999000))
    (N37 ^referent R114 (@999001) ^spelling knights-tour)
      (R114 ^handle knights-tour1 ^word-structure N37 (@999000))


Load init-atour2.


(I66 ^action N47 ^arg1 N50 ^message-type command)
  (N47 ^handle load1 ^item-type action ^procedural L120 (@726))
    (L120 ^op_name initiate-load)
  (N50 ^handle init-atour22 ^word-structure N49 (@999003))
    (N49 ^referent R232 (@999004) ^spelling init-atour2)
      (R232 ^handle init-atour22 ^word-structure N49 (@999003))


Ok.


(I229 ^message-type yes)


If a clear location is movable from a captured location then you can move a red block onto the clear location and move an available clear blue block onto the captured location.


(I385 ^if-subclause I398 ^message-type conditional ^then-subclause I438)
  (I398 ^action N83 ^arg1 P198 ^predicate I412)
    (N83 ^handle is1 ^item-type action)
    (P198 ^handle new-object-id3 ^item-type object ^predicates P199
           ^predicates-copied true)
      (P199 ^category location ^dialog-object true ^is-visible1 not-visible1
             ^property clear)
    (I412 ^2 P220 ^handle movable-from ^item-type predicate)
      (P220 ^handle new-object-id4 ^item-type object ^predicates P221
             ^predicates-copied true)
        (P221 ^category location ^dialog-object true ^is-visible1 not-visible1
               ^property captured)
  (I438 ^subclause I440 ^subclause I418)
    (I440 ^action N178 ^arg1 P279 ^arg2 I462)
      (N178 ^goal L453 (@609) ^handle move1 ^item-type action
             ^procedural L454 (@608))
        (L453 ^1 L455 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L455 ^handle move1sg1 ^predicates L456 (@617))
            (L456 ^1 L457 (@618) ^pred-count 1)
              (L457 ^1 L459 (@613) ^2 L460 (@615) ^id L458 (@614)
                     ^type relation)
        (L454 ^arg1 L461 (@610) ^arg2 L462 (@611) ^op_name op_move1
               ^subtasks L463 (@612))
          (L461 ^arg-type object ^id L459 (@613) ^required true)
          (L462 ^2 L460 (@615) ^arg-type partial-predicate ^id L458 (@614)
                 ^required true)
      (P279 ^handle new-object-id6 ^item-type object ^predicates P280
             ^predicates-copied true)
        (P280 ^category block ^color blue1 ^dialog-object true
               ^is-visible1 not-visible1 ^property clear ^property available)
      (I462 ^2 P220 ^handle on1 ^item-type predicate)
    (I418 ^action N119 ^action-modifier N117 ^agent R287 ^arg1 P242 ^arg2 I436)
      (N119 ^goal L340 (@609) ^handle move1 ^item-type action
             ^procedural L341 (@608))
        (L340 ^1 L342 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L342 ^handle move1sg1 ^predicates L343 (@617))
            (L343 ^1 L344 (@618) ^pred-count 1)
              (L344 ^1 L346 (@613) ^2 L347 (@615) ^id L345 (@614)
                     ^type relation)
        (L341 ^arg1 L348 (@610) ^arg2 L349 (@611) ^op_name op_move1
               ^subtasks L350 (@612))
          (L348 ^arg-type object ^id L346 (@613) ^required true)
          (L349 ^2 L347 (@615) ^arg-type partial-predicate ^id L345 (@614)
                 ^required true)
      (N117 ^handle can)
      (R287 ^arm A4 ^debug-id rob ^handle rosie ^item-type object
             ^predicate P50)
        (A4 ^action wait)
        (P50 ^handle rosie)
      (P242 ^handle new-object-id5 ^item-type object ^predicates P243
             ^predicates-copied true)
        (P243 ^category block ^color red1 ^dialog-object true
               ^is-visible1 not-visible1)
      (I436 ^2 P198 ^handle on1 ^item-type predicate)


If a block is not on a location then it is available.


(I746 ^if-subclause I757 ^message-type conditional ^then-subclause I775)
  (I757 ^action N482 ^arg1 P425 ^modifier N494 ^predicate I769)
    (N482 ^handle is1 ^item-type action)
    (P425 ^handle new-object-id9 ^item-type object ^predicates P426
           ^predicates-copied true)
      (P426 ^category block ^dialog-object true ^is-visible1 not-visible1)
    (N494 ^handle negation ^modifier true)
    (I769 ^2 P444 ^handle on1 ^item-type predicate)
      (P444 ^handle new-object-id10 ^item-type object ^predicates P445
             ^predicates-copied true)
        (P445 ^category location ^dialog-object true ^is-visible1 not-visible1)
  (I775 ^action N518 ^arg1 P425 ^predicate N531)
    (N518 ^handle is1 ^item-type action)
    (N531 ^handle available ^item-type predicate ^property L839 (@100208))
      (L839 ^handle property ^type visual)


If a location is not below an object then it is clear.


(I1287 ^if-subclause I1298 ^message-type conditional ^then-subclause I1316)
  (I1298 ^action N986 ^arg1 P713 ^modifier N998 ^predicate I1310)
    (N986 ^handle is1 ^item-type action)
    (P713 ^handle new-object-id12 ^item-type object ^predicates P714
           ^predicates-copied true)
      (P714 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N998 ^handle negation ^modifier true)
    (I1310 ^2 P733 ^handle below1 ^item-type predicate)
      (P733 ^handle new-object-id13 ^item-type object ^predicates P734
             ^predicates-copied true)
        (P734 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I1316 ^action N1022 ^arg1 P713 ^predicate N1035)
    (N1022 ^handle is1 ^item-type action)
    (N1035 ^handle clear ^item-type predicate ^property L1199 (@100208))
      (L1199 ^handle property ^type visual)


If a location is below a red block then it is captured.


(I1848 ^if-subclause I1859 ^message-type conditional ^then-subclause I1877)
  (I1859 ^action N1492 ^arg1 P1020 ^predicate I1871)
    (N1492 ^handle is1 ^item-type action)
    (P1020 ^handle new-object-id15 ^item-type object ^predicates P1021
           ^predicates-copied true)
      (P1021 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I1871 ^2 P1042 ^handle below1 ^item-type predicate)
      (P1042 ^handle new-object-id16 ^item-type object ^predicates P1043
             ^predicates-copied true)
        (P1043 ^category block ^color red1 ^dialog-object true
               ^is-visible1 not-visible1)
  (I1877 ^action N1528 ^arg1 P1020 ^predicate N1541)
    (N1528 ^handle is1 ^item-type action)
    (N1541 ^handle captured ^item-type predicate ^property L1540 (@100208))
      (L1540 ^handle property ^type visual)


If a location that is alongside a captured location is diagonal with an object that is not next to the captured location then the object is movable from the captured location.


(I2541 ^if-subclause I2565 ^message-type conditional ^then-subclause I2602)
  (I2565 ^action N2031 ^arg1 P1375 ^predicate I2594)
    (N2031 ^handle is1 ^item-type action)
    (P1375 ^handle new-object-id19 ^item-type object ^predicates P1376
           ^predicates-copied true ^relation I2563)
      (P1376 ^category location ^dialog-object true ^is-visible1 not-visible1)
      (I2563 ^2 P1369 ^handle alongside1)
    (I2594 ^2 P1424 ^handle diagonal-with1 ^item-type predicate)
  (I2602 ^action N2104 ^arg1 P1424 ^predicate I2616)
    (N2104 ^handle is1 ^item-type action)
    (P1424 ^handle new-object-id20 ^item-type object ^predicates P1425
           ^predicates-copied true ^relation I2592)
      (P1425 ^category object ^dialog-object true ^is-visible1 not-visible1)
      (I2592 ^2 P1369 ^handle near1 ^predicates N2065)
        (N2065 ^handle negation ^modifier true)
    (I2616 ^2 P1369 ^handle movable-from ^item-type predicate)
      (P1369 ^handle new-object-id18 ^item-type object ^predicates P1370
             ^predicates-copied true)
        (P1370 ^category location ^dialog-object true
               ^is-visible1 not-visible1 ^property captured)


The solution has eleven steps.


(I3536 ^action N2627 ^agent P1823 ^arg1 P1832 ^message-type command)
  (N2627 ^handle has1 ^item-type action ^procedural L2431 (@718))
    (L2431 ^op_name initiate-has1)
  (P1823 ^handle new-object-id21 ^item-type object ^predicates P1824
         ^predicates-copied true)
    (P1824 ^category solution1 ^dialog-object true ^is-visible1 not-visible1)
  (P1832 ^handle new-object-id22 ^item-type object ^predicates P1833
         ^predicates-copied true)
    (P1833 ^category object ^dialog-object true ^is-visible1 not-visible1
           ^multiple true ^number 11 ^shape steps1)


Load final-atour2.


(I3566 ^action N2655 ^arg1 N2658 ^message-type command)
  (N2655 ^handle load1 ^item-type action ^procedural L2499 (@726))
    (L2499 ^op_name initiate-load)
  (N2658 ^handle final-atour223 ^word-structure N2657 (@999227))
    (N2657 ^referent R4566 (@999228) ^spelling final-atour2)
      (R4566 ^handle final-atour223 ^word-structure N2657 (@999227))


The goal is that all locations are covered.


(I3731 ^arg1 N2671 ^message-type object-description ^subclause I3742)
  (N2671 ^handle goal ^property L2557 (@100106))
    (L2557 ^handle concept ^type conceptual)
  (I3742 ^action N2705 ^arg1 P1895 ^predicate N2716)
    (N2705 ^handle is1 ^item-type action)
    (P1895 ^handle new-object-id24 ^item-type location ^predicates P1896
           ^predicates-copied true)
      (P1896 ^category location ^dialog-object true
             ^is-visible1 unknown-visible1 ^multiple true ^quantified N2693)
        (N2693 ^handle all)
    (N2716 ^handle covered ^item-type predicate ^property L2638 (@100208))
      (L2638 ^handle property ^type visual)


Ok.


(I3764 ^message-type yes)


If a location is below an object then it is covered.


(I4189 ^if-subclause I4200 ^message-type conditional ^then-subclause I4216)
  (I4200 ^action N2950 ^arg1 P2015 ^predicate I4210)
    (N2950 ^handle is1 ^item-type action)
    (P2015 ^handle new-object-id27 ^item-type object ^predicates P2016
           ^predicates-copied true)
      (P2016 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I4210 ^2 P2034 ^handle below1 ^item-type predicate)
      (P2034 ^handle new-object-id28 ^item-type object ^predicates P2035
             ^predicates-copied true)
        (P2035 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I4216 ^action N2983 ^arg1 P2015 ^predicate N2996)
    (N2983 ^handle is1 ^item-type action)
    (N2996 ^handle covered ^item-type predicate ^property L2846 (@100208))
      (L2846 ^handle property ^type visual)


Done.


(I5190 ^message-type finished)


Load init-atour2.


(I5296 ^action N3595 ^arg1 N3597 ^message-type command)
  (N3595 ^handle load1 ^item-type action ^procedural L3039 (@726))
    (L3039 ^op_name initiate-load)
  (N3597 ^handle init-atour22 ^word-structure L3044 (@999003))
    (L3044 ^referent L3045 (@999004) ^spelling init-atour2)
      (L3045 ^handle init-atour22 ^word-structure L3044 (@999003))


Yes.


(I5459 ^message-type yes)


