The name of the puzzle is traveling-salesman.


(I25 ^arg1 I43 ^message-type object-description ^predicate N38)
  (I43 ^2 I44 ^handle of1 ^item-type predicate)
    (I44 ^2 N15 ^handle name1)
      (N15 ^handle puzzle1 ^property L47 (@100106))
        (L47 ^handle concept ^type conceptual)
  (N38 ^handle traveling-salesman1 ^item-type predicate
         ^word-structure N37 (@999000))
    (N37 ^referent R114 (@999001) ^spelling traveling-salesman)
      (R114 ^handle traveling-salesman1 ^word-structure N37 (@999000))


Load init-tourrc.


(I66 ^action N47 ^arg1 N50 ^message-type command)
  (N47 ^handle load1 ^item-type action ^procedural L120 (@726))
    (L120 ^op_name initiate-load)
  (N50 ^handle init-tourrc2 ^word-structure N49 (@999003))
    (N49 ^referent R232 (@999004) ^spelling init-tourrc)
      (R232 ^handle init-tourrc2 ^word-structure N49 (@999003))


Ok.


(I195 ^message-type yes)


If a clear location is adjacent to a red block then you can move the red block onto the clear location and move a clear available blue block onto a location that was below the red block.


(I317 ^if-subclause I330 ^message-type conditional ^then-subclause I370)
  (I330 ^action N83 ^arg1 P198 ^predicate I344)
    (N83 ^handle is1 ^item-type action)
    (P198 ^handle new-object-id3 ^item-type object ^predicates P199
           ^predicates-copied true)
      (P199 ^category location ^dialog-object true ^is-visible1 not-visible1
             ^property clear)
    (I344 ^2 P220 ^handle adjacent1 ^item-type predicate)
      (P220 ^handle new-object-id4 ^item-type object ^predicates P221
             ^predicates-copied true)
        (P221 ^category block ^color red1 ^dialog-object true
               ^is-visible1 not-visible1)
  (I370 ^subclause I372 ^subclause I350)
    (I372 ^action N179 ^arg1 P277 ^arg2 I405)
      (N179 ^goal L454 (@609) ^handle move1 ^item-type action
             ^procedural L455 (@608))
        (L454 ^1 L456 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L456 ^handle move1sg1 ^predicates L457 (@617))
            (L457 ^1 L458 (@618) ^pred-count 1)
              (L458 ^1 L460 (@613) ^2 L461 (@615) ^id L459 (@614)
                     ^type relation)
        (L455 ^arg1 L462 (@610) ^arg2 L463 (@611) ^op_name op_move1
               ^subtasks L464 (@612))
          (L462 ^arg-type object ^id L460 (@613) ^required true)
          (L463 ^2 L461 (@615) ^arg-type partial-predicate ^id L459 (@614)
                 ^required true)
      (P277 ^handle new-object-id5 ^item-type object ^predicates P278
             ^predicates-copied true)
        (P278 ^category block ^color blue1 ^dialog-object true
               ^is-visible1 not-visible1 ^property available ^property clear)
      (I405 ^2 P312 ^handle on1 ^item-type predicate)
        (P312 ^handle new-object-id6 ^item-type object ^predicates P313
               ^predicates-copied true ^relation I403)
          (P313 ^category location ^dialog-object true
                 ^is-visible1 not-visible1)
          (I403 ^2 P220 ^handle below1)
    (I350 ^action N121 ^action-modifier N119 ^agent R287 ^arg1 P220 ^arg2 I368)
      (N121 ^goal L341 (@609) ^handle move1 ^item-type action
             ^procedural L342 (@608))
        (L341 ^1 L343 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L343 ^handle move1sg1 ^predicates L344 (@617))
            (L344 ^1 L345 (@618) ^pred-count 1)
              (L345 ^1 L347 (@613) ^2 L348 (@615) ^id L346 (@614)
                     ^type relation)
        (L342 ^arg1 L349 (@610) ^arg2 L350 (@611) ^op_name op_move1
               ^subtasks L351 (@612))
          (L349 ^arg-type object ^id L347 (@613) ^required true)
          (L350 ^2 L348 (@615) ^arg-type partial-predicate ^id L346 (@614)
                 ^required true)
      (N119 ^handle can)
      (R287 ^arm A4 ^debug-id rob ^handle rosie ^item-type object
             ^predicate P50)
        (A4 ^action wait)
        (P50 ^handle rosie)
      (I368 ^2 P198 ^handle on1 ^item-type predicate)


If a block is not on a location then it is available.


(I688 ^if-subclause I699 ^message-type conditional ^then-subclause I717)
  (I699 ^action N479 ^arg1 P448 ^modifier N491 ^predicate I711)
    (N479 ^handle is1 ^item-type action)
    (P448 ^handle new-object-id9 ^item-type object ^predicates P449
           ^predicates-copied true)
      (P449 ^category block ^dialog-object true ^is-visible1 not-visible1)
    (N491 ^handle negation ^modifier true)
    (I711 ^2 P467 ^handle on1 ^item-type predicate)
      (P467 ^handle new-object-id10 ^item-type object ^predicates P468
             ^predicates-copied true)
        (P468 ^category location ^dialog-object true ^is-visible1 not-visible1)
  (I717 ^action N515 ^arg1 P448 ^predicate N528)
    (N515 ^handle is1 ^item-type action)
    (N528 ^handle available ^item-type predicate ^property L877 (@100208))
      (L877 ^handle property ^type visual)


If a location is not below an object then it is clear.


(I1224 ^if-subclause I1235 ^message-type conditional ^then-subclause I1253)
  (I1235 ^action N913 ^arg1 P739 ^modifier N925 ^predicate I1247)
    (N913 ^handle is1 ^item-type action)
    (P739 ^handle new-object-id12 ^item-type object ^predicates P740
           ^predicates-copied true)
      (P740 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N925 ^handle negation ^modifier true)
    (I1247 ^2 P759 ^handle below1 ^item-type predicate)
      (P759 ^handle new-object-id13 ^item-type object ^predicates P760
             ^predicates-copied true)
        (P760 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I1253 ^action N949 ^arg1 P739 ^predicate N962)
    (N949 ^handle is1 ^item-type action)
    (N962 ^handle clear ^item-type predicate ^property L1226 (@100208))
      (L1226 ^handle property ^type visual)


If a location is next to an object but it is not diagonal with the object then it is adjacent to the object.


(I1866 ^if-subclause I1891 ^message-type conditional ^then-subclause I1917)
  (I1891 ^subclause I1897 ^subclause I1877)
    (I1897 ^action N1386 ^arg1 P1059 ^modifier N1399 ^predicate I1911)
      (N1386 ^handle is1 ^item-type action)
      (N1399 ^handle negation ^modifier true)
      (I1911 ^2 P1077 ^handle diagonal-with1 ^item-type predicate)
    (I1877 ^action N1349 ^arg1 P1059 ^predicate I1889)
      (N1349 ^handle is1 ^item-type action)
      (I1889 ^2 P1077 ^handle near1 ^item-type predicate)
  (I1917 ^action N1425 ^arg1 P1059 ^predicate I1929)
    (N1425 ^handle is1 ^item-type action)
    (P1059 ^handle new-object-id15 ^item-type object ^predicates P1060
           ^predicates-copied true)
      (P1060 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I1929 ^2 P1077 ^handle adjacent1 ^item-type predicate)
      (P1077 ^handle new-object-id16 ^item-type object ^predicates P1078
             ^predicates-copied true)
        (P1078 ^category object ^dialog-object true ^is-visible1 not-visible1)


The solution has eleven steps.


(I2614 ^action N1827 ^agent P1455 ^arg1 P1464 ^message-type command)
  (N1827 ^handle has1 ^item-type action ^procedural L2014 (@718))
    (L2014 ^op_name initiate-has1)
  (P1455 ^handle new-object-id17 ^item-type object ^predicates P1456
         ^predicates-copied true)
    (P1456 ^category solution1 ^dialog-object true ^is-visible1 not-visible1)
  (P1464 ^handle new-object-id18 ^item-type object ^predicates P1465
         ^predicates-copied true)
    (P1465 ^category object ^dialog-object true ^is-visible1 not-visible1
           ^multiple true ^number 11 ^shape steps1)


Load final-tourrc.


(I2644 ^action N1855 ^arg1 N1858 ^message-type command)
  (N1855 ^handle load1 ^item-type action ^procedural L2087 (@726))
    (L2087 ^op_name initiate-load)
  (N1858 ^handle final-tourrc19 ^word-structure N1857 (@999186))
    (N1857 ^referent R3843 (@999187) ^spelling final-tourrc)
      (R3843 ^handle final-tourrc19 ^word-structure N1857 (@999186))


The goal is that all locations are covered and a red block is adjacent to a green location.


(I2775 ^arg1 N1871 ^message-type object-description ^subclause I2786)
  (N1871 ^handle goal ^property L2145 (@100106))
    (L2145 ^handle concept ^type conceptual)
  (I2786 ^subclause I2795 ^subclause I2811)
    (I2795 ^action N1905 ^arg1 P1527 ^predicate N1916)
      (N1905 ^handle is1 ^item-type action)
      (P1527 ^handle new-object-id20 ^item-type location ^predicates P1528
             ^predicates-copied true)
        (P1528 ^category location ^dialog-object true
               ^is-visible1 unknown-visible1 ^multiple true ^quantified N1893)
          (N1893 ^handle all)
      (N1916 ^handle covered ^item-type predicate ^property L2226 (@100208))
        (L2226 ^handle property ^type visual)
    (I2811 ^action N1940 ^arg1 P1547 ^predicate I2825)
      (N1940 ^handle is1 ^item-type action)
      (P1547 ^handle new-object-id21 ^item-type object ^predicates P1548
             ^predicates-copied true)
        (P1548 ^category block ^color red1 ^dialog-object true
               ^is-visible1 not-visible1)
      (I2825 ^2 P1570 ^handle adjacent1 ^item-type predicate)
        (P1570 ^handle new-object-id22 ^item-type object ^predicates P1571
               ^predicates-copied true)
          (P1571 ^category location ^color green1 ^dialog-object true
                 ^is-visible1 not-visible1)


Ok.


(I2834 ^message-type yes)


If a location is below an object then it is covered.


(I3271 ^if-subclause I3282 ^message-type conditional ^then-subclause I3298)
  (I3282 ^action N2181 ^arg1 P1715 ^predicate I3292)
    (N2181 ^handle is1 ^item-type action)
    (P1715 ^handle new-object-id25 ^item-type object ^predicates P1716
           ^predicates-copied true)
      (P1716 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I3292 ^2 P1734 ^handle below1 ^item-type predicate)
      (P1734 ^handle new-object-id26 ^item-type object ^predicates P1735
             ^predicates-copied true)
        (P1735 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I3298 ^action N2214 ^arg1 P1715 ^predicate N2227)
    (N2214 ^handle is1 ^item-type action)
    (N2227 ^handle covered ^item-type predicate ^property L2565 (@100208))
      (L2565 ^handle property ^type visual)


Done.


(I4268 ^message-type finished)


Load init-tourrc.


(I4414 ^action N2734 ^arg1 N2736 ^message-type command)
  (N2734 ^handle load1 ^item-type action ^procedural L2825 (@726))
    (L2825 ^op_name initiate-load)
  (N2736 ^handle init-tourrc2 ^word-structure L2830 (@999003))
    (L2830 ^referent L2831 (@999004) ^spelling init-tourrc)
      (L2831 ^handle init-tourrc2 ^word-structure L2830 (@999003))


Yes.


(I4543 ^message-type yes)


