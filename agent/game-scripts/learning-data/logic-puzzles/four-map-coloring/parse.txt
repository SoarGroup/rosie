The name of the puzzle is number-map-color.


(I25 ^arg1 I43 ^message-type object-description ^predicate N38)
  (I43 ^2 I44 ^handle of1 ^item-type predicate)
    (I44 ^2 N15 ^handle name1)
      (N15 ^handle puzzle1 ^property L47 (@100106))
        (L47 ^handle concept ^type conceptual)
  (N38 ^handle number-map-color1 ^item-type predicate
         ^word-structure N37 (@999000))
    (N37 ^referent R114 (@999001) ^spelling number-map-color)
      (R114 ^handle number-map-color1 ^word-structure N37 (@999000))


Load init-map-ncolor3rc.


(I66 ^action N47 ^arg1 N50 ^message-type command)
  (N47 ^handle load1 ^item-type action ^procedural L120 (@726))
    (L120 ^op_name initiate-load)
  (N50 ^handle init-map-ncolor3rc2 ^word-structure N49 (@999003))
    (N49 ^referent R232 (@999004) ^spelling init-map-ncolor3rc)
      (R232 ^handle init-map-ncolor3rc2 ^word-structure N49 (@999003))


Ok.


(I131 ^message-type yes)


The name of the action is write-1-to-4.


(I189 ^arg1 I207 ^message-type object-description ^predicate N103)
  (I207 ^2 I208 ^handle of1 ^item-type predicate)
    (I208 ^2 R537 ^handle name1)
      (R537 ^action action)
  (N103 ^handle write-1-to-43 ^item-type predicate
         ^word-structure N102 (@999005))
    (N102 ^referent R562 (@999006) ^spelling write-1-to-4)
      (R562 ^handle write-1-to-43 ^word-structure N102 (@999005))


You can write a number that is between one and four onto an empty location.


(I266 ^action N202 ^action-modifier N200 ^agent R287 ^arg1 C760 ^arg1 N220
       ^arg2 I302 ^message-type command)
  (N202 ^handle write1 ^item-type action ^procedural L507 (@577))
    (L507 ^arg1 L508 (@579) ^arg2 L509 (@578) ^op_name op_write1)
      (L508 ^arg-type concept ^id L510 (@580) ^required true)
      (L509 ^2 L512 (@581) ^arg-type partial-predicate ^id L511 (@582)
             ^required true)
  (N200 ^handle can)
  (R287 ^arm A4 ^debug-id rob ^handle rosie ^item-type object ^predicate P50)
    (A4 ^action wait)
    (P50 ^handle rosie)
  (C760 ^relation I292)
    (I292 ^2 R1036 ^3 R1067 ^handle between)
      (R1036 ^number 1)
      (R1067 ^number 4)
  (N220 ^function L531 (@100337) ^handle number1 ^property L530 (@100209))
    (L531 ^function soar-count ^type count)
    (L530 ^handle numeric ^type conceptual)
  (I302 ^2 P233 ^handle on1 ^item-type predicate)
    (P233 ^handle new-object-id5 ^item-type object ^predicates P234
           ^predicates-copied true)
      (P234 ^category location ^dialog-object true ^is-visible1 not-visible1
             ^property empty)


If the value of a location is absent then the location is empty.


(I441 ^if-subclause I460 ^message-type conditional ^then-subclause I474)
  (I460 ^action N405 ^arg1 I461 ^predicate N416)
    (N405 ^handle is1 ^item-type action)
    (I461 ^2 I462 ^handle of1 ^item-type predicate)
      (I462 ^2 P370 ^handle value)
    (N416 ^handle absent ^item-type predicate ^property L889 (@100208))
      (L889 ^handle property ^type visual)
  (I474 ^action N431 ^arg1 P370 ^predicate N443)
    (N431 ^handle is1 ^item-type action)
    (P370 ^handle new-object-id7 ^item-type object ^predicates P371
           ^predicates-copied true)
      (P371 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N443 ^handle empty ^item-type predicate ^property L945 (@100208))
      (L945 ^handle property ^type visual)


Load fail-map-ncolorrc.


(I717 ^action N622 ^arg1 N625 ^message-type command)
  (N622 ^handle load1 ^item-type action ^procedural L1224 (@726))
    (L1224 ^op_name initiate-load)
  (N625 ^handle fail-map-ncolorrc9 ^word-structure N624 (@999069))
    (N624 ^referent R2142 (@999070) ^spelling fail-map-ncolorrc)
      (R2142 ^handle fail-map-ncolorrc9 ^word-structure N624 (@999069))


If the value of a location is the value of an object that is next to the location then you lose.


(I782 ^if-subclause I801 ^message-type conditional ^then-subclause I838)
  (I801 ^action N661 ^arg1 I802 ^predicate I831)
    (N661 ^handle is1 ^item-type action)
    (I802 ^2 I803 ^handle of1 ^item-type predicate)
      (I803 ^2 P670 ^handle value)
        (P670 ^handle new-object-id10 ^item-type object ^predicates P671
               ^predicates-copied true)
          (P671 ^category location ^dialog-object true
                 ^is-visible1 not-visible1)
    (I831 ^2 I832 ^handle of1 ^item-type predicate)
      (I832 ^2 P722 ^handle value)
        (P722 ^handle new-object-id11 ^item-type object ^predicates P723
               ^predicates-copied true ^relation I828)
          (P723 ^category object ^dialog-object true ^is-visible1 not-visible1)
          (I828 ^2 P670 ^handle near1)
  (I838 ^action N725 ^agent R2197)
    (N725 ^handle lose1 ^item-type action ^procedural L1464 (@721))
      (L1464 ^op_name initiate-lose1)
    (R2197 ^arm A116 ^debug-id rob ^handle rosie ^item-type object
           ^predicate P640)
      (A116 ^action wait)
      (P640 ^handle rosie)


Ok.


(I849 ^message-type yes)


The solution has three steps.


(I1084 ^action N916 ^agent P841 ^arg1 P850 ^message-type command)
  (N916 ^handle has1 ^item-type action ^procedural L1654 (@718))
    (L1654 ^op_name initiate-has1)
  (P841 ^handle new-object-id13 ^item-type object ^predicates P842
         ^predicates-copied true)
    (P842 ^category solution1 ^dialog-object true ^is-visible1 not-visible1)
  (P850 ^handle new-object-id14 ^item-type object ^predicates P851
         ^predicates-copied true)
    (P851 ^category object ^dialog-object true ^is-visible1 not-visible1
           ^multiple true ^number 3 ^shape steps1)


Load final-map-ncolorrc.


(I1114 ^action N944 ^arg1 N947 ^message-type command)
  (N944 ^handle load1 ^item-type action ^procedural L1722 (@726))
    (L1722 ^op_name initiate-load)
  (N947 ^handle final-map-ncolorrc15 ^word-structure N946 (@999116))
    (N946 ^referent R3022 (@999117) ^spelling final-map-ncolorrc)
      (R3022 ^handle final-map-ncolorrc15 ^word-structure N946 (@999116))


The name of the goal is all-filled.


(I1179 ^arg1 I1197 ^message-type object-description ^predicate N993)
  (I1197 ^2 I1198 ^handle of1 ^item-type predicate)
    (I1198 ^2 N970 ^handle name1)
      (N970 ^handle goal ^property L1805 (@100106))
        (L1805 ^handle concept ^type conceptual)
  (N993 ^handle all-filled16 ^item-type predicate
         ^word-structure N992 (@999118))
    (N992 ^referent R3216 (@999119) ^spelling all-filled)
      (R3216 ^handle all-filled16 ^word-structure N992 (@999118))


Ok.


(I1215 ^message-type yes)


The goal is that all locations are filled.


(I1228 ^arg1 N1010 ^message-type object-description ^subclause I1239)
  (N1010 ^handle goal ^property L1910 (@100106))
    (L1910 ^handle concept ^type conceptual)
  (I1239 ^action N1044 ^arg1 P928 ^predicate N1055)
    (N1044 ^handle is1 ^item-type action)
    (P928 ^handle new-object-id17 ^item-type location ^predicates P929
           ^predicates-copied true)
      (P929 ^category location ^dialog-object true
             ^is-visible1 unknown-visible1 ^multiple true ^quantified N1032)
        (N1032 ^handle all)
    (N1055 ^handle filled ^item-type predicate ^property L1991 (@100208))
      (L1991 ^handle property ^type visual)


If the value of a location is more than zero then the location is filled.


(I1295 ^if-subclause I1314 ^message-type conditional ^then-subclause I1334)
  (I1314 ^action N1161 ^arg1 I1315 ^predicate I1326)
    (N1161 ^handle is1 ^item-type action)
    (I1315 ^2 I1316 ^handle of1 ^item-type predicate)
      (I1316 ^2 P1019 ^handle value)
    (I1326 ^2 R3813 ^handle more-than1 ^item-type predicate)
      (R3813 ^number 0)
  (I1334 ^action N1192 ^arg1 P1019 ^predicate N1204)
    (N1192 ^handle is1 ^item-type action)
    (P1019 ^handle new-object-id19 ^item-type object ^predicates P1020
           ^predicates-copied true)
      (P1020 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N1204 ^handle filled ^item-type predicate ^property L2212 (@100208))
      (L2212 ^handle property ^type visual)


Done.


(I1532 ^message-type finished)


Load init-map-ncolor3rc.


(I1640 ^action N1476 ^arg1 N1478 ^message-type command)
  (N1476 ^handle load1 ^item-type action ^procedural L2433 (@726))
    (L2433 ^op_name initiate-load)
  (N1478 ^handle init-map-ncolor3rc2 ^word-structure L2438 (@999003))
    (L2438 ^referent L2439 (@999004) ^spelling init-map-ncolor3rc)
      (L2439 ^handle init-map-ncolor3rc2 ^word-structure L2438 (@999003))


Yes.


(I1705 ^message-type yes)


