The name of the puzzle is sokoban.


(I25 ^arg1 I43 ^message-type object-description ^predicate N38)
  (I43 ^2 I44 ^handle of1 ^item-type predicate)
    (I44 ^2 N15 ^handle name1)
      (N15 ^handle puzzle1 ^property L49 (@100106))
        (L49 ^handle concept ^type conceptual)
  (N38 ^handle sokoban1 ^item-type predicate ^word-structure N37 (@999000))
    (N37 ^referent R120 (@999001) ^spelling sokoban)
      (R120 ^handle sokoban1 ^word-structure N37 (@999000))


Load init-sokoban.


(I66 ^action N47 ^arg1 N50 ^message-type command)
  (N47 ^handle load1 ^item-type action ^procedural L122 (@726))
    (L122 ^op_name initiate-load)
  (N50 ^handle init-sokoban3 ^word-structure N49 (@999003))
    (N49 ^referent R238 (@999004) ^spelling init-sokoban)
      (R238 ^handle init-sokoban3 ^word-structure N49 (@999003))


Ok.


(I179 ^message-type yes)


The name of an action is move-block.


(I285 ^arg1 I303 ^message-type object-description ^predicate N103)
  (I303 ^2 I304 ^handle of1 ^item-type predicate)
    (I304 ^2 R591 ^handle name1)
      (R591 ^action action)
  (N103 ^handle move-block4 ^item-type predicate
         ^word-structure N102 (@999005))
    (N102 ^referent R616 (@999006) ^spelling move-block)
      (R616 ^handle move-block4 ^word-structure N102 (@999005))


If a blue block is adjacent to a clear location then you can move the block onto the location.


(I321 ^if-subclause I334 ^message-type conditional ^then-subclause I370)
  (I334 ^action N129 ^arg1 P180 ^predicate I348)
    (N129 ^handle is1 ^item-type action)
    (P180 ^handle new-object-id5 ^item-type object ^predicates P181
           ^predicates-copied true)
      (P181 ^category block ^color blue1 ^dialog-object true
             ^is-visible1 not-visible1)
    (I348 ^2 P202 ^handle adjacent1 ^item-type predicate)
      (P202 ^handle new-object-id6 ^item-type object ^predicates P203
             ^predicates-copied true)
        (P203 ^category location ^dialog-object true ^is-visible1 not-visible1
               ^property clear)
  (I370 ^action N167 ^action-modifier N165 ^agent R293 ^arg1 P180 ^arg2 I368)
    (N167 ^goal L446 (@609) ^handle move1 ^item-type action
           ^procedural L447 (@608))
      (L446 ^1 L448 (@616) ^handle move1goal1 ^item-type task-goal
             ^subgoal-count 1)
        (L448 ^handle move1sg1 ^predicates L449 (@617))
          (L449 ^1 L450 (@618) ^pred-count 1)
            (L450 ^1 L452 (@613) ^2 L453 (@615) ^id L451 (@614) ^type relation)
      (L447 ^arg1 L454 (@610) ^arg2 L455 (@611) ^op_name op_move1
             ^subtasks L456 (@612))
        (L454 ^arg-type object ^id L452 (@613) ^required true)
        (L455 ^2 L453 (@615) ^arg-type partial-predicate ^id L451 (@614)
               ^required true)
    (N165 ^handle can)
    (R293 ^arm A4 ^debug-id rob ^handle rosie ^item-type object ^predicate P50)
      (A4 ^action wait)
      (P50 ^handle rosie)
    (I368 ^2 P202 ^handle on1 ^item-type predicate)


If a location is not below an object then it is clear.


(I536 ^if-subclause I547 ^message-type conditional ^then-subclause I565)
  (I547 ^action N378 ^arg1 P330 ^modifier N390 ^predicate I559)
    (N378 ^handle is1 ^item-type action)
    (P330 ^handle new-object-id8 ^item-type object ^predicates P331
           ^predicates-copied true)
      (P331 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N390 ^handle negation ^modifier true)
    (I559 ^2 P350 ^handle below1 ^item-type predicate)
      (P350 ^handle new-object-id9 ^item-type object ^predicates P351
             ^predicates-copied true)
        (P351 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I565 ^action N414 ^arg1 P330 ^predicate N427)
    (N414 ^handle is1 ^item-type action)
    (N427 ^handle clear ^item-type predicate ^property L749 (@100208))
      (L749 ^handle property ^type visual)


If a location is next to an object but it is not diagonal with the object then it is adjacent to the object.


(I945 ^if-subclause I970 ^message-type conditional ^then-subclause I996)
  (I970 ^subclause I976 ^subclause I956)
    (I976 ^action N766 ^arg1 P564 ^modifier N779 ^predicate I990)
      (N766 ^handle is1 ^item-type action)
      (N779 ^handle negation ^modifier true)
      (I990 ^2 P582 ^handle diagonal-with1 ^item-type predicate)
    (I956 ^action N729 ^arg1 P564 ^predicate I968)
      (N729 ^handle is1 ^item-type action)
      (I968 ^2 P582 ^handle near1 ^item-type predicate)
  (I996 ^action N805 ^arg1 P564 ^predicate I1008)
    (N805 ^handle is1 ^item-type action)
    (P564 ^handle new-object-id11 ^item-type object ^predicates P565
           ^predicates-copied true)
      (P565 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I1008 ^2 P582 ^handle adjacent1 ^item-type predicate)
      (P582 ^handle new-object-id12 ^item-type object ^predicates P583
             ^predicates-copied true)
        (P583 ^category object ^dialog-object true ^is-visible1 not-visible1)


The name of an action is push-block.


(I1385 ^arg1 I1403 ^message-type object-description ^predicate N1160)
  (I1403 ^2 I1404 ^handle of1 ^item-type predicate)
    (I1404 ^2 R2680 ^handle name1)
      (R2680 ^action action)
  (N1160 ^handle push-block13 ^item-type predicate
         ^word-structure N1159 (@999111))
    (N1159 ^referent R2705 (@999112) ^spelling push-block)
      (R2705 ^handle push-block13 ^word-structure N1159 (@999111))


If a covered location is between a clear location and a blue block then you can move a block on the covered location onto the clear location plus move the blue block onto the covered location.


(I1512 ^if-subclause I1525 ^message-type conditional ^then-subclause I1578)
  (I1525 ^action N1390 ^arg1 P1032 ^predicate I1545)
    (N1390 ^handle is1 ^item-type action)
    (P1032 ^handle new-object-id18 ^item-type object ^predicates P1033
           ^predicates-copied true)
      (P1033 ^category location ^dialog-object true ^is-visible1 not-visible1
             ^property covered)
    (I1545 ^2 P1052 ^3 P1064 ^handle between ^item-type predicate)
      (P1052 ^handle new-object-id19 ^item-type object ^predicates P1053
             ^predicates-copied true)
        (P1053 ^category location ^dialog-object true
               ^is-visible1 not-visible1 ^property clear)
      (P1064 ^handle new-object-id20 ^item-type object ^predicates P1065
             ^predicates-copied true)
        (P1065 ^category block ^color blue1 ^dialog-object true
               ^is-visible1 not-visible1)
  (I1578 ^subclause I1580 ^subclause I1551)
    (I1580 ^action N1521 ^arg1 P1064 ^arg2 I1598)
      (N1521 ^goal L2195 (@609) ^handle move1 ^item-type action
             ^procedural L2196 (@608))
        (L2195 ^1 L2197 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L2197 ^handle move1sg1 ^predicates L2198 (@617))
            (L2198 ^1 L2199 (@618) ^pred-count 1)
              (L2199 ^1 L2201 (@613) ^2 L2202 (@615) ^id L2200 (@614)
                     ^type relation)
        (L2196 ^arg1 L2203 (@610) ^arg2 L2204 (@611) ^op_name op_move1
               ^subtasks L2205 (@612))
          (L2203 ^arg-type object ^id L2201 (@613) ^required true)
          (L2204 ^2 L2202 (@615) ^arg-type partial-predicate ^id L2200 (@614)
                 ^required true)
      (I1598 ^2 P1032 ^handle on1 ^item-type predicate)
    (I1551 ^action N1446 ^action-modifier N1444 ^agent R293 ^arg1 P1104
           ^arg2 I1576)
      (N1446 ^goal L2056 (@609) ^handle move1 ^item-type action
             ^procedural L2057 (@608))
        (L2056 ^1 L2058 (@616) ^handle move1goal1 ^item-type task-goal
               ^subgoal-count 1)
          (L2058 ^handle move1sg1 ^predicates L2059 (@617))
            (L2059 ^1 L2060 (@618) ^pred-count 1)
              (L2060 ^1 L2062 (@613) ^2 L2063 (@615) ^id L2061 (@614)
                     ^type relation)
        (L2057 ^arg1 L2064 (@610) ^arg2 L2065 (@611) ^op_name op_move1
               ^subtasks L2066 (@612))
          (L2064 ^arg-type object ^id L2062 (@613) ^required true)
          (L2065 ^2 L2063 (@615) ^arg-type partial-predicate ^id L2061 (@614)
                 ^required true)
      (N1444 ^handle can)
      (R293 ^arm A4 ^debug-id rob ^handle rosie ^item-type object
             ^predicate P50)
        (A4 ^action wait)
        (P50 ^handle rosie)
      (P1104 ^handle new-object-id21 ^item-type object ^predicates P1105
             ^predicates-copied true ^relation I1566)
        (P1105 ^category block ^dialog-object true ^is-visible1 not-visible1)
        (I1566 ^2 P1032 ^handle on1)
      (I1576 ^2 P1052 ^handle on1 ^item-type predicate)


If a location is below an object then it is covered.


(I2132 ^if-subclause I2143 ^message-type conditional ^then-subclause I2159)
  (I2143 ^action N1773 ^arg1 P1390 ^predicate I2153)
    (N1773 ^handle is1 ^item-type action)
    (P1390 ^handle new-object-id23 ^item-type object ^predicates P1391
           ^predicates-copied true)
      (P1391 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (I2153 ^2 P1409 ^handle below1 ^item-type predicate)
      (P1409 ^handle new-object-id24 ^item-type object ^predicates P1410
             ^predicates-copied true)
        (P1410 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I2159 ^action N1806 ^arg1 P1390 ^predicate N1819)
    (N1806 ^handle is1 ^item-type action)
    (N1819 ^handle covered ^item-type predicate ^property L2646 (@100208))
      (L2646 ^handle property ^type visual)


The solution has eight steps.


(I3027 ^action N2168 ^agent P1787 ^arg1 P1796 ^message-type command)
  (N2168 ^handle has1 ^item-type action ^procedural L3075 (@718))
    (L3075 ^op_name initiate-has1)
  (P1787 ^handle new-object-id26 ^item-type object ^predicates P1788
         ^predicates-copied true)
    (P1788 ^category solution1 ^dialog-object true ^is-visible1 not-visible1)
  (P1796 ^handle new-object-id27 ^item-type object ^predicates P1797
         ^predicates-copied true)
    (P1797 ^category object ^dialog-object true ^is-visible1 not-visible1
           ^multiple true ^number 8 ^shape steps1)


Load final-sokoban2.


(I3057 ^action N2196 ^arg1 N2199 ^message-type command)
  (N2196 ^handle load1 ^item-type action ^procedural L3148 (@726))
    (L3148 ^op_name initiate-load)
  (N2199 ^handle final-sokoban228 ^word-structure N2198 (@999222))
    (N2198 ^referent R5480 (@999223) ^spelling final-sokoban2)
      (R5480 ^handle final-sokoban228 ^word-structure N2198 (@999222))


The goal is that a red block is on a red location and a green block is on a green location.


(I3170 ^arg1 N2212 ^message-type object-description ^subclause I3181)
  (N2212 ^handle goal ^property L3206 (@100106))
    (L3206 ^handle concept ^type conceptual)
  (I3181 ^subclause I3191 ^subclause I3215)
    (I3191 ^action N2248 ^arg1 P1853 ^predicate I3203)
      (N2248 ^handle is1 ^item-type action)
      (P1853 ^handle new-object-id29 ^item-type object ^predicates P1854
             ^predicates-copied true)
        (P1854 ^category block ^color red1 ^dialog-object true
               ^is-visible1 not-visible1)
      (I3203 ^2 P1873 ^handle on1 ^item-type predicate)
        (P1873 ^handle new-object-id30 ^item-type object ^predicates P1874
               ^predicates-copied true)
          (P1874 ^category location ^color red1 ^dialog-object true
                 ^is-visible1 not-visible1)
    (I3215 ^action N2299 ^arg1 P1889 ^predicate I3227)
      (N2299 ^handle is1 ^item-type action)
      (P1889 ^handle new-object-id31 ^item-type object ^predicates P1890
             ^predicates-copied true)
        (P1890 ^category block ^color green1 ^dialog-object true
               ^is-visible1 not-visible1)
      (I3227 ^2 P1911 ^handle on1 ^item-type predicate)
        (P1911 ^handle new-object-id32 ^item-type object ^predicates P1912
               ^predicates-copied true)
          (P1912 ^category location ^color green1 ^dialog-object true
                 ^is-visible1 not-visible1)


Ok.


(I3236 ^message-type yes)


Done.


(I3510 ^message-type finished)


Load init-sokoban.


(I3700 ^action N2608 ^arg1 N2610 ^message-type command)
  (N2608 ^handle load1 ^item-type action ^procedural L3666 (@726))
    (L3666 ^op_name initiate-load)
  (N2610 ^handle init-sokoban3 ^word-structure L3671 (@999003))
    (L3671 ^referent L3672 (@999004) ^spelling init-sokoban)
      (L3672 ^handle init-sokoban3 ^word-structure L3671 (@999003))


Yes.


(I3813 ^message-type yes)


