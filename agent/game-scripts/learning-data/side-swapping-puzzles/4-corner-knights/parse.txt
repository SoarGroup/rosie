The name of the puzzle is knight-swap.


(I25 ^arg1 I43 ^message-type object-description ^predicate N38)
  (I43 ^2 I44 ^handle of1 ^item-type predicate)
    (I44 ^2 N15 ^handle name1)
      (N15 ^handle puzzle1 ^property L47 (@100106))
        (L47 ^handle concept ^type conceptual)
  (N38 ^handle knight-swap1 ^item-type predicate ^word-structure N37 (@999000))
    (N37 ^referent R114 (@999001) ^spelling knight-swap)
      (R114 ^handle knight-swap1 ^word-structure N37 (@999000))


Load init-kswap2.


(I66 ^action N47 ^arg1 N50 ^message-type command)
  (N47 ^handle load1 ^item-type action ^procedural L120 (@726))
    (L120 ^op_name initiate-load)
  (N50 ^handle init-kswap22 ^word-structure N49 (@999003))
    (N49 ^referent R232 (@999004) ^spelling init-kswap2)
      (R232 ^handle init-kswap22 ^word-structure N49 (@999003))


Ok.


(I179 ^message-type yes)


If a clear location is jumpable by a block then you can move the block onto the clear location.


(I285 ^if-subclause I298 ^message-type conditional ^then-subclause I334)
  (I298 ^action N83 ^arg1 P146 ^predicate I310)
    (N83 ^handle is1 ^item-type action)
    (P146 ^handle new-object-id3 ^item-type object ^predicates P147
           ^predicates-copied true)
      (P147 ^category location ^dialog-object true ^is-visible1 not-visible1
             ^property clear)
    (I310 ^2 P165 ^handle jumpable-by ^item-type predicate)
  (I334 ^action N116 ^action-modifier N114 ^agent R287 ^arg1 P165 ^arg2 I332)
    (N116 ^goal L333 (@609) ^handle move1 ^item-type action
           ^procedural L334 (@608))
      (L333 ^1 L335 (@616) ^handle move1goal1 ^item-type task-goal
             ^subgoal-count 1)
        (L335 ^handle move1sg1 ^predicates L336 (@617))
          (L336 ^1 L337 (@618) ^pred-count 1)
            (L337 ^1 L339 (@613) ^2 L340 (@615) ^id L338 (@614) ^type relation)
      (L334 ^arg1 L341 (@610) ^arg2 L342 (@611) ^op_name op_move1
             ^subtasks L343 (@612))
        (L341 ^arg-type object ^id L339 (@613) ^required true)
        (L342 ^2 L340 (@615) ^arg-type partial-predicate ^id L338 (@614)
               ^required true)
    (N114 ^handle can)
    (R287 ^arm A4 ^debug-id rob ^handle rosie ^item-type object ^predicate P50)
      (A4 ^action wait)
      (P50 ^handle rosie)
    (P165 ^handle new-object-id4 ^item-type object ^predicates P166
           ^predicates-copied true)
      (P166 ^category block ^dialog-object true ^is-visible1 not-visible1)
    (I332 ^2 P146 ^handle on1 ^item-type predicate)


If a location is not below an object then it is clear.


(I486 ^if-subclause I497 ^message-type conditional ^then-subclause I515)
  (I497 ^action N324 ^arg1 P291 ^modifier N336 ^predicate I509)
    (N324 ^handle is1 ^item-type action)
    (P291 ^handle new-object-id7 ^item-type object ^predicates P292
           ^predicates-copied true)
      (P292 ^category location ^dialog-object true ^is-visible1 not-visible1)
    (N336 ^handle negation ^modifier true)
    (I509 ^2 P311 ^handle below1 ^item-type predicate)
      (P311 ^handle new-object-id8 ^item-type object ^predicates P312
             ^predicates-copied true)
        (P312 ^category object ^dialog-object true ^is-visible1 not-visible1)
  (I515 ^action N360 ^arg1 P291 ^predicate N373)
    (N360 ^handle is1 ^item-type action)
    (N373 ^handle clear ^item-type predicate ^property L637 (@100208))
      (L637 ^handle property ^type visual)


If an object that is alongside a block is diagonal with a location that is not next to the block then the location is jumpable by the block.


(I840 ^if-subclause I862 ^message-type conditional ^then-subclause I897)
  (I862 ^action N692 ^arg1 P532 ^predicate I889)
    (N692 ^handle is1 ^item-type action)
    (P532 ^handle new-object-id11 ^item-type object ^predicates P533
           ^predicates-copied true ^relation I860)
      (P533 ^category object ^dialog-object true ^is-visible1 not-visible1)
      (I860 ^2 P526 ^handle alongside1)
    (I889 ^2 P577 ^handle diagonal-with1 ^item-type predicate)
  (I897 ^action N762 ^arg1 P577 ^predicate I909)
    (N762 ^handle is1 ^item-type action)
    (P577 ^handle new-object-id12 ^item-type object ^predicates P578
           ^predicates-copied true ^relation I887)
      (P578 ^category location ^dialog-object true ^is-visible1 not-visible1)
      (I887 ^2 P526 ^handle near1 ^predicates N726)
        (N726 ^handle negation ^modifier true)
    (I909 ^2 P526 ^handle jumpable-by ^item-type predicate)
      (P526 ^handle new-object-id10 ^item-type object ^predicates P527
             ^predicates-copied true)
        (P527 ^category block ^dialog-object true ^is-visible1 not-visible1)


The solution has four steps.


(I1435 ^action N1133 ^agent P856 ^arg1 P865 ^message-type command)
  (N1133 ^handle has1 ^item-type action ^procedural L1322 (@718))
    (L1322 ^op_name initiate-has1)
  (P856 ^handle new-object-id13 ^item-type object ^predicates P857
         ^predicates-copied true)
    (P857 ^category solution1 ^dialog-object true ^is-visible1 not-visible1)
  (P865 ^handle new-object-id14 ^item-type object ^predicates P866
         ^predicates-copied true)
    (P866 ^category object ^dialog-object true ^is-visible1 not-visible1
           ^multiple true ^number 4 ^shape steps1)


Load final-kswap2.


(I1465 ^action N1161 ^arg1 N1164 ^message-type command)
  (N1161 ^handle load1 ^item-type action ^procedural L1390 (@726))
    (L1390 ^op_name initiate-load)
  (N1164 ^handle final-kswap215 ^word-structure N1163 (@999111))
    (N1163 ^referent R2582 (@999112) ^spelling final-kswap2)
      (R2582 ^handle final-kswap215 ^word-structure N1163 (@999111))


The name of the goal is red-blue-matched.


(I1578 ^arg1 I1596 ^message-type object-description ^predicate N1210)
  (I1596 ^2 I1597 ^handle of1 ^item-type predicate)
    (I1597 ^2 N1187 ^handle name1)
      (N1187 ^handle goal ^property L1473 (@100106))
        (L1473 ^handle concept ^type conceptual)
  (N1210 ^handle red-blue-matched16 ^item-type predicate
         ^word-structure N1209 (@999113))
    (N1209 ^referent R2776 (@999114) ^spelling red-blue-matched)
      (R2776 ^handle red-blue-matched16 ^word-structure N1209 (@999113))


Ok.


(I1614 ^message-type yes)


The goal is that all the red blocks are on the red locations and all the blue blocks are on the blue locations.


(I1627 ^arg1 N1227 ^message-type object-description ^subclause I1638)
  (N1227 ^handle goal ^property L1578 (@100106))
    (L1578 ^handle concept ^type conceptual)
  (I1638 ^subclause I1650 ^subclause I1676)
    (I1650 ^action N1266 ^arg1 P950 ^predicate I1662)
      (N1266 ^handle is1 ^item-type action)
      (P950 ^handle new-object-id17 ^item-type block ^predicates P951
             ^predicates-copied true)
        (P951 ^category block ^color red1 ^dialog-object true
               ^is-visible1 unknown-visible1 ^multiple true ^quantified N1249)
          (N1249 ^handle all)
      (I1662 ^2 P969 ^handle on1 ^item-type predicate)
        (P969 ^handle new-object-id18 ^item-type object ^predicates P970
               ^predicates-copied true)
          (P970 ^category location ^color red1 ^dialog-object true
                 ^is-visible1 not-visible1 ^multiple true)
    (I1676 ^action N1320 ^arg1 P986 ^predicate I1688)
      (N1320 ^handle is1 ^item-type action)
      (P986 ^handle new-object-id19 ^item-type block ^predicates P987
             ^predicates-copied true)
        (P987 ^category block ^color blue1 ^dialog-object true
               ^is-visible1 unknown-visible1 ^multiple true ^quantified N1303)
          (N1303 ^handle all)
      (I1688 ^2 P1007 ^handle on1 ^item-type predicate)
        (P1007 ^handle new-object-id20 ^item-type object ^predicates P1008
               ^predicates-copied true)
          (P1008 ^category location ^color blue1 ^dialog-object true
                 ^is-visible1 not-visible1 ^multiple true)


Done.


(I1936 ^message-type finished)


Load third-kswap2.


(I2044 ^action N1620 ^arg1 N1623 ^message-type command)
  (N1620 ^handle load1 ^item-type action ^procedural L2030 (@726))
    (L2030 ^op_name initiate-load)
  (N1623 ^handle third-kswap221 ^word-structure N1622 (@999194))
    (N1622 ^referent R3753 (@999195) ^spelling third-kswap2)
      (R3753 ^handle third-kswap221 ^word-structure N1622 (@999194))


Yes.


(I2157 ^message-type yes)


