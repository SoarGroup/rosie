## Do an smem query to lookup the smem info about the task
sp {add-subtask-to-tcn*elaborate*smem-query*task-concept-network
   (state <s> ^name add-subtask-to-tcn
              ^task-operator.task-handle <task-handle>)
-->
   (<s> ^smem-query <query>)
   (<query> ^cue.handle <task-handle>
            ^depth 10
            ^destination <s>
            ^result-name task-concept-network)
}

## Do an smem query to lookup the smem info about the subtask
sp {add-subtask-to-tcn*elaborate*smem-query*subtask-tcn
   (state <s> ^name add-subtask-to-tcn
              ^subtask.task-handle <subtask-handle>)
-->
   (<s> ^smem-query <query>)
   (<query> ^cue.handle <subtask-handle>
            ^depth 10
            ^destination <s>
            ^result-name subtask-tcn)
}

## Do an smem query for the current goal
sp {add-subtask-to-tcn*elaborate*smem-query*current-goal-id
   (state <s> ^name add-subtask-to-tcn
              ^task-operator.current-goal <goal-h>)
-->
   (<s> ^smem-query <query>)
   (<query> ^cue.handle <goal-h>
            ^depth 6
            ^destination <s>
            ^result-name current-goal-id)
}
