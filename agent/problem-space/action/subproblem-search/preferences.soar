
# Best preference for command operators, because they will likely finish the search
sp {subproblem*search*best*preference*command*operators
   (state <s> ^problem-space <ps>
              ^operator <o> +)
   (<ps> ^name action
         ^subproblem search)
   (<o> ^item-type command-operator)
-->
   (<s> ^operator <o> >)
}

# Even if the depth is exceeded, allow command-operators to fire
sp {subproblem*search*prefer*command-operator*over*exceed-depth
   (state <s> ^problem-space.subproblem search
              ^operator <o1> +
              ^operator <o2> +)
   (<o1> ^item-type command-operator)
   (<o2> ^name exceed-depth)
-->
   (<s> ^operator <o1> > <o2>)
}

# Reject an operator with the same name as the parent task
sp {subproblem*search*reject*same*task*as*supertask
   (state <s> ^problem-space.subproblem search
              ^task-operator <task-op>
              ^operator { <o> <> <task-op> } +)
   (<task-op> ^task-handle <handle>)
   (<o> ^task-handle <handle>)
-->
   (<s> ^operator <o> -)
}

