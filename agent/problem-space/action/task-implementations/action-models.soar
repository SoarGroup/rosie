#####################################################
# General purpose action models 

sp {action*apply*subtask*mark*performed-subtask
   (state <s> ^problem-space.name action
              ^problem-space.execution-type internal
              ^operator <o>
              ^task-operator <task-op>)
   (<o> ^subtask-handle { <sub-handle> <> none })
-->
   (<task-op> ^performed-subtask <sub-handle>)
}

sp {action*apply*subtask*mark*performed*duplicate-of
   (state <s> ^problem-space.name action
              ^problem-space.execution-type internal
              ^operator <o>
              ^task-operator <task-op>)
   (<o> ^duplicate-of.subtask-handle { <sub-handle> <> none })
-->
   (<task-op> ^performed-subtask <sub-handle>)
}

## If a command-operator is selected, mark the goal as satisfied
#  (We assume executing the command would achieve the goal)
sp {action*execution-type*internal*apply*command-operator*mark*desired*satisfied
   (state <s> ^problem-space <ps>
              ^operator.item-type command-operator
              ^desired <d>)
   (<ps> ^name action
         ^execution-type internal)
-->
   (<d> ^satisfied true)
}
