sp {learn-subtask-policy*task-operator*elaborate*top-retrospective-state
   (state <s> ^superstate.name learn-subtask-policy
              ^superstate.operator.item-type task-operator)
-->
   (<s> ^top-retrospective-state true)
}

sp {learn-subtask-policy*task-operator*elaborate*subtask-operator*superstate
   (state <s> ^top-retrospective-state true
              ^superstate.subtask-operator <subtask-op>)
-->
   (<s> ^subtask-operator <subtask-op>)
}

# Sets up the retrospective subproblem (see action/subproblem-retrospective)

sp {learn-subtask-policy*task-operator*elaborate*problem-space
   (state <s> ^top-retrospective-state true)
-->
   (<s> ^default-problem-space no)
   
   (<s> ^problem-space <ps>)
   (<ps> ^name action
         ^subproblem retrospective
         ^execution-type internal
         ^world.copy-type shallow)
}

